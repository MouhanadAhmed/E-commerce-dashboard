import{aj as j,r as c,ak as R,z as e,al as z,am as K,an as I,ao as M,ap as _,aq as b,ar as C,as as Y,at as J,au as X,av as Z,aw as $,K as v,ax as E,ay as T,az as ee,ab as x,G as P,aA as se,aB as te,a0 as ae,a1 as F,a5 as re,aC as D,T as le,E as oe,aD as ne,M as ie,N as S,O as ce,P as de,Q as me}from"./index-c3ed4325.js";const H="https://ecommerce-jwjk.onrender.com/api/v1",y=`${H}/user`,ue=`${H}/user`,he=async s=>(await j.get(`${ue}?${s}`)).data,xe=s=>j.get(`${y}/${s}`).then(a=>a.data).then(a=>a.data),pe=s=>j.put(y,s).then(a=>a.data).then(a=>a.data),fe=s=>j.post(`${y}/${s.id}`,s).then(a=>a.data).then(a=>a.data),be=s=>j.delete(`${y}/${s}`).then(()=>{}),je=s=>{const a=s.map(l=>j.delete(`${y}/${l}`));return j.all(a).then(()=>{})},Q=c.createContext(R),ge=({children:s})=>{const[a,l]=c.useState(R.state),o=r=>{const i={...a,...r};l(i)};return e.jsx(Q.Provider,{value:{state:a,updateState:o},children:s})},k=()=>c.useContext(Q),q=z(K),ve=({children:s})=>{const{state:a}=k(),[l,o]=c.useState(I(a)),r=c.useMemo(()=>I(a),[a]);c.useEffect(()=>{l!==r&&o(r)},[r]);const{isFetching:i,refetch:d,data:m}=M(`${_.USERS_LIST}-${l}`,()=>he(l),{cacheTime:0,keepPreviousData:!0,refetchOnWindowFocus:!1});return e.jsx(q.Provider,{value:{isLoading:i,refetch:d,response:m,query:l},children:s})},p=()=>c.useContext(q),B=()=>{const{response:s}=p();return s?(s==null?void 0:s.data)||[]:[]},Ne=()=>{const s={links:[],...b},{response:a}=p();return!a||!a.payload||!a.payload.pagination?s:a.payload.pagination},O=()=>{const{isLoading:s}=p();return s},W=c.createContext(C),ye=({children:s})=>{const[a,l]=c.useState(C.selected),[o,r]=c.useState(C.itemIdForUpdate),{isLoading:i}=p(),d=B(),m=c.useMemo(()=>Y(i,d),[i,d]),t=c.useMemo(()=>J(d,a),[d,a]);return e.jsx(W.Provider,{value:{selected:a,itemIdForUpdate:o,setItemIdForUpdate:r,disabled:m,isAllSelected:t,onSelect:n=>{X(n,a,l)},onSelectAll:()=>{Z(t,l,d)},clearSelected:()=>{l([])}},children:s})},h=()=>c.useContext(W),ke=()=>{const{updateState:s}=k(),{isLoading:a}=p(),[l,o]=c.useState(),[r,i]=c.useState();c.useEffect(()=>{$.reinitialization()},[]);const d=()=>{s({filter:void 0,...b})},m=()=>{s({filter:{role:l,last_login:r},...b})};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{disabled:a,type:"button",className:"btn btn-light-primary me-3","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:[e.jsx(v,{iconName:"filter",className:"fs-2"}),"Filter"]}),e.jsxs("div",{className:"menu menu-sub menu-sub-dropdown w-300px w-md-325px","data-kt-menu":"true",children:[e.jsx("div",{className:"px-7 py-5",children:e.jsx("div",{className:"fs-5 text-gray-900 fw-bolder",children:"Filter Options"})}),e.jsx("div",{className:"separator border-gray-200"}),e.jsxs("div",{className:"px-7 py-5","data-kt-user-table-filter":"form",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label fs-6 fw-bold",children:"Role:"}),e.jsxs("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"role","data-hide-search":"true",onChange:t=>o(t.target.value),value:l,children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Administrator",children:"Administrator"}),e.jsx("option",{value:"Analyst",children:"Analyst"}),e.jsx("option",{value:"Developer",children:"Developer"}),e.jsx("option",{value:"Support",children:"Support"}),e.jsx("option",{value:"Trial",children:"Trial"})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("label",{className:"form-label fs-6 fw-bold",children:"Last login:"}),e.jsxs("select",{className:"form-select form-select-solid fw-bolder","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true","data-kt-user-table-filter":"two-step","data-hide-search":"true",onChange:t=>i(t.target.value),value:r,children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Yesterday",children:"Yesterday"}),e.jsx("option",{value:"20 mins ago",children:"20 mins ago"}),e.jsx("option",{value:"5 hours ago",children:"5 hours ago"}),e.jsx("option",{value:"2 days ago",children:"2 days ago"})]})]}),e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx("button",{type:"button",disabled:a,onClick:m,className:"btn btn-light btn-active-light-primary fw-bold me-2 px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"reset",children:"Reset"}),e.jsx("button",{disabled:a,type:"button",onClick:d,className:"btn btn-primary fw-bold px-6","data-kt-menu-dismiss":"true","data-kt-user-table-filter":"filter",children:"Apply"})]})]})]})]})},we=()=>{const{setItemIdForUpdate:s}=h(),a=()=>{s(null)};return e.jsxs("div",{className:"d-flex justify-content-end","data-kt-user-table-toolbar":"base",children:[e.jsx(ke,{}),e.jsxs("button",{type:"button",className:"btn btn-light-primary me-3",children:[e.jsx(v,{iconName:"exit-up",className:"fs-2"}),"Export"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:a,children:[e.jsx(v,{iconName:"plus",className:"fs-2"}),"Add User"]})]})},_e=()=>{const{selected:s,clearSelected:a}=h(),l=E(),{query:o}=p(),r=T(()=>je(s),{onSuccess:()=>{l.invalidateQueries([`${_.USERS_LIST}-${o}`]),a()}});return e.jsxs("div",{className:"d-flex justify-content-end align-items-center",children:[e.jsxs("div",{className:"fw-bolder me-5",children:[e.jsx("span",{className:"me-2",children:s.length})," Selected"]}),e.jsx("button",{type:"button",className:"btn btn-danger",onClick:async()=>await r.mutateAsync(),children:"Delete Selected"})]})},Se=()=>{const{updateState:s}=k(),[a,l]=c.useState(""),o=ee(a,150);return c.useEffect(()=>{o!==void 0&&a!==void 0&&s({keyword:`${o}`,...b})},[o]),e.jsx("div",{className:"card-title",children:e.jsxs("div",{className:"d-flex align-items-center position-relative my-1",children:[e.jsx(v,{iconName:"magnifier",className:"fs-1 position-absolute ms-6"}),e.jsx("input",{type:"text","data-kt-user-table-filter":"search",className:"form-control form-control-solid w-250px ps-14",placeholder:"Search user",value:a,onChange:r=>l(r.target.value)})]})})},Ce=()=>{const{selected:s}=h();return e.jsxs("div",{className:"card-header border-0 pt-6",children:[e.jsx(Se,{}),e.jsx("div",{className:"card-toolbar",children:s.length>0?e.jsx(_e,{}):e.jsx(we,{})})]})},Pe=({column:s})=>e.jsx(e.Fragment,{children:s.Header&&typeof s.Header=="string"?e.jsx("th",{...s.getHeaderProps(),children:s.render("Header")}):s.render("Header")}),Ue=({row:s})=>e.jsx("tr",{...s.getRowProps(),children:s.cells.map(a=>e.jsx("td",{...a.getCellProps(),className:x({"text-end min-w-100px":a.column.id==="actions"}),children:a.render("Cell")}))}),Ie=({user:s})=>{var a;return e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"symbol symbol-circle symbol-50px overflow-hidden me-3",children:e.jsx("a",{href:"#",children:s.profilePic?e.jsx("div",{className:"symbol-label",children:e.jsx("img",{src:P(`media/${s.profilePic}`),alt:s.name,className:"w-100"})}):e.jsx("div",{className:x("symbol-label fs-3","bg-light-100","text-danger"),children:(a=s==null?void 0:s.name[0])==null?void 0:a.toUpperCase()})})}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("a",{href:"#",className:"text-gray-800 text-hover-primary mb-1",children:s.name}),e.jsx("span",{children:s.email})]})]})},Fe=({lastLogin:s})=>{const a=l=>{if(!l)return"";const o=new Date(l),i=new Date-o,d=1e3*60,m=1e3*60*60,t=1e3*60*60*24,n=1e3*60*60*24*7;let u;return i<t?i<m?u=`${Math.floor(i/d)} minutes ago`:u=`${Math.floor(i/m)} hours ago`:i<t*2?u="yesterday":i<n?u=`${Math.floor(i/t)} days ago`:u=`${Math.floor(i/n)} weeks ago`,u};return e.jsx("div",{className:"badge badge-light fw-bolder",children:a(s)})},Ae=({phone:s})=>e.jsx("div",{children:s}),Le=({id:s})=>{const{setItemIdForUpdate:a}=h(),{query:l}=p(),o=E();c.useEffect(()=>{$.reinitialization()},[]);const r=()=>{a(s)},i=T(()=>be(s),{onSuccess:()=>{o.invalidateQueries([`${_.USERS_LIST}-${l}`])}});return e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"#",className:"btn btn-light btn-active-light-primary btn-sm","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end",children:["Actions",e.jsx(v,{iconName:"down",className:"fs-5 m-0"})]}),e.jsxs("div",{className:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold fs-7 w-125px py-4","data-kt-menu":"true",children:[e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3",onClick:r,children:"Edit"})}),e.jsx("div",{className:"menu-item px-3",children:e.jsx("a",{className:"menu-link px-3","data-kt-users-table-filter":"delete_row",onClick:async()=>await i.mutateAsync(),children:"Delete"})})]})]})},Re=({id:s})=>{const{selected:a,onSelect:l}=h(),o=c.useMemo(()=>a.includes(s),[s,a]);return e.jsx("div",{className:"form-check form-check-custom form-check-solid",children:e.jsx("input",{className:"form-check-input",type:"checkbox","data-kt-check":o,"data-kt-check-target":"#kt_table_users .form-check-input",checked:o,onChange:()=>l(s)})})},g=({className:s,title:a,tableProps:l})=>{const o=l.column.id,{state:r,updateState:i}=k(),d=c.useMemo(()=>r.sort&&r.sort===o,[r,o]),m=c.useMemo(()=>r.order,[r]),t=()=>{if(!(o==="actions"||o==="selection")){if(!d){i({sort:o,order:"asc",...b});return}if(d&&m!==void 0){if(m==="asc"){i({sort:o,order:"desc",...b});return}i({sort:void 0,order:void 0,...b})}}};return e.jsx("th",{...l.column.getHeaderProps(),className:x(s,d&&m!==void 0&&`table-sort-${m}`),style:{cursor:"pointer"},onClick:t,children:a})},Me=({tableProps:s})=>{const{isAllSelected:a,onSelectAll:l}=h();return e.jsx("th",{...s.column.getHeaderProps(),className:"w-10px pe-2",children:e.jsx("div",{className:"form-check form-check-sm form-check-custom form-check-solid me-3",children:e.jsx("input",{className:"form-check-input",type:"checkbox","data-kt-check":a,"data-kt-check-target":"#kt_table_users .form-check-input",checked:a,onChange:l})})})},$e=({last_login:s})=>e.jsx("span",{children:s}),Ee=[{Header:s=>e.jsx(Me,{tableProps:s}),id:"selection",Cell:({...s})=>e.jsx(Re,{id:s.data[s.row.index].id})},{Header:s=>e.jsx(g,{tableProps:s,title:"Name",className:"min-w-125px"}),id:"name",Cell:({...s})=>e.jsx(Ie,{user:s.data[s.row.index]})},{Header:s=>e.jsx(g,{tableProps:s,title:"Role",className:"min-w-125px"}),accessor:"role"},{Header:s=>e.jsx(g,{tableProps:s,title:"Last login",className:"min-w-125px"}),id:"lastLogin",Cell:({...s})=>e.jsx(Fe,{lastLogin:s.data[s.row.index].lastLogin})},{Header:s=>e.jsx(g,{tableProps:s,title:"Phone",className:"min-w-125px"}),id:"phone",Cell:({...s})=>e.jsx(Ae,{phone:s.data[s.row.index].phone})},{Header:s=>e.jsx(g,{tableProps:s,title:"Joined day",className:"min-w-125px"}),id:"createdAt",Cell:({...s})=>e.jsx($e,{last_login:new Date(s.data[s.row.index].createdAt).toLocaleString("en-GB",{day:"numeric",month:"long",year:"numeric"})})},{Header:s=>e.jsx(g,{tableProps:s,title:"Actions",className:"text-end min-w-100px"}),id:"actions",Cell:({...s})=>e.jsx(Le,{id:s.data[s.row.index].id})}],G=()=>{const s={borderRadius:"0.475rem",boxShadow:"0 0 50px 0 rgb(82 63 105 / 15%)",backgroundColor:"#fff",color:"#7e8299",fontWeight:"500",margin:"0",width:"auto",padding:"1rem 2rem",top:"calc(50% - 2rem)",left:"calc(50% - 4rem)"};return e.jsx("div",{style:{...s,position:"absolute",textAlign:"center"},children:"Processing..."})},A=s=>s==="&laquo; Previous"?"Previous":s==="Next &raquo;"?"Next":s,Te=()=>{var m;const s=Ne(),a=O(),{updateState:l}=k(),o=t=>{const n=Number(s.page);!t||a||n===t||l({page:t.toString(),items_per_page:s.items_per_page||10})},r=5,i=t=>{var U;if(!((U=t==null?void 0:t.links)!=null&&U.length))return[];const n=[...t.links];let u=[];const f=n.shift(),V=n.pop(),w=Math.floor(r/2);return u.push(f),(t.page<=Math.round(r/2)||n.length<=r)&&(u=[...u,...n.slice(0,r)]),t.page>n.length-w&&n.length>r&&(u=[...u,...n.slice(n.length-r,n.length)]),!((t==null?void 0:t.page)<=Math.round(r/2)||(n==null?void 0:n.length)<=r)&&!((t==null?void 0:t.page)>(n==null?void 0:n.length)-w)&&(u=[...u,...n.slice((t==null?void 0:t.page)-1-w,(t==null?void 0:t.page)+w)]),u.push(V),u},d=c.useMemo(()=>i(s),[s]);return e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-12 col-md-5 d-flex align-items-center justify-content-center justify-content-md-start"}),e.jsx("div",{className:"col-sm-12 col-md-7 d-flex align-items-center justify-content-center justify-content-md-end",children:e.jsx("div",{id:"kt_table_users_paginate",children:e.jsxs("ul",{className:"pagination",children:[e.jsx("li",{className:x("page-item",{disabled:a||s.page==1}),children:e.jsx("a",{onClick:()=>o(1),style:{cursor:"pointer"},className:"page-link",children:"First"})}),d==null?void 0:d.map(t=>({...t,label:A(t.label)})).map(t=>e.jsx("li",{className:x("page-item",{active:s.page==t.page,disabled:a,previous:t.label==="Previous",next:t.label==="Next"}),children:e.jsx("a",{className:x("page-link",{"page-text":t.label==="Previous"||t.label==="Next","me-5":t.label==="Previous"}),onClick:()=>o(t.page),style:{cursor:"pointer"},children:A(t.label)})},t.label)),e.jsx("li",{className:x("page-item",{disabled:a||s.page==(((m=s.links)==null?void 0:m.length)||3)-2}),children:e.jsx("a",{onClick:()=>{var t;return o((((t=s.links)==null?void 0:t.length)||3)-2)},style:{cursor:"pointer"},className:"page-link",children:"Last"})})]})})})]})},De=()=>{const s=B(),a=O(),l=c.useMemo(()=>s,[s]),o=c.useMemo(()=>Ee,[]),{getTableProps:r,getTableBodyProps:i,headers:d,rows:m,prepareRow:t}=se.useTable({columns:o,data:l});return e.jsxs(te,{className:"py-4",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{id:"kt_table_users",className:"table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer",...r(),children:[e.jsx("thead",{children:e.jsx("tr",{className:"text-start text-muted fw-bolder fs-7 text-uppercase gs-0",children:d.map(n=>e.jsx(Pe,{column:n},n.id))})}),e.jsx("tbody",{className:"text-gray-600 fw-bold",...i(),children:m.length>0?m.map((n,u)=>(t(n),e.jsx(Ue,{row:n},`row-${u}-${n.id}`))):e.jsx("tr",{children:e.jsx("td",{colSpan:7,children:e.jsx("div",{className:"d-flex text-center w-100 align-content-center justify-content-center",children:"No matching records found"})})})})]})}),e.jsx(Te,{}),a&&e.jsx(G,{})]})},He=()=>{const{setItemIdForUpdate:s}=h();return e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"fw-bolder",children:"Add User"}),e.jsx("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-kt-users-modal-action":"close",onClick:()=>s(void 0),style:{cursor:"pointer"},children:e.jsx(v,{iconName:"cross",className:"fs-1"})})]})},N={profilePic:"avatars/300-6.jpg",position:"Art Director",role:"Administrator",name:"",email:""},Qe=ae().shape({email:F().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Email is required"),name:F().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Name is required")}),L=({user:s,isUserLoading:a})=>{const{setItemIdForUpdate:l}=h(),{refetch:o}=p(),[r]=c.useState({...s,profilePic:s.profilePic||N.profilePic,role:s.role||N.role,position:s.position||N.position,name:s.name||N.name,email:s.email||N.email}),i=n=>{n&&o(),l(void 0)},d=P("media/svg/avatars/blank.svg"),m=P(`media/${r.profilePic}`),t=re({initialValues:r,validationSchema:Qe,onSubmit:async(n,{setSubmitting:u})=>{u(!0);try{D(n.id)?await fe(n):await pe(n)}catch(f){console.error(f)}finally{u(!0),i(!0)}}});return e.jsxs(e.Fragment,{children:[e.jsxs("form",{id:"kt_modal_add_user_form",className:"form",onSubmit:t.handleSubmit,noValidate:!0,children:[e.jsxs("div",{className:"d-flex flex-column scroll-y me-n7 pe-7",id:"kt_modal_add_user_scroll","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-max-height":"auto","data-kt-scroll-dependencies":"#kt_modal_add_user_header","data-kt-scroll-wrappers":"#kt_modal_add_user_scroll","data-kt-scroll-offset":"300px",children:[e.jsxs("div",{className:"fv-row mb-7",children:[e.jsx("label",{className:"d-block fw-bold fs-6 mb-5",children:"profilePic"}),e.jsx("div",{className:"image-input image-input-outline","data-kt-image-input":"true",style:{backgroundImage:`url('${d}')`},children:e.jsx("div",{className:"image-input-wrapper w-125px h-125px",style:{backgroundImage:`url('${m}')`}})})]}),e.jsxs("div",{className:"fv-row mb-7",children:[e.jsx("label",{htmlFor:"name",className:"required fw-bold fs-6 mb-2",children:"Full Name"}),e.jsx("input",{placeholder:"Full name",...t.getFieldProps("name"),type:"text",name:"name",className:x("form-control form-control-solid mb-3 mb-lg-0",{"is-invalid":t.touched.name&&t.errors.name},{"is-valid":t.touched.name&&!t.errors.name}),autoComplete:"off",disabled:t.isSubmitting||a}),t.touched.name&&t.errors.name&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:e.jsx("span",{role:"alert",children:t.errors.name})})})]}),e.jsxs("div",{className:"fv-row mb-7",children:[e.jsx("label",{htmlFor:"email",className:"required fw-bold fs-6 mb-2",children:"Email"}),e.jsx("input",{placeholder:"Email",...t.getFieldProps("email"),className:x("form-control form-control-solid mb-3 mb-lg-0",{"is-invalid":t.touched.email&&t.errors.email},{"is-valid":t.touched.email&&!t.errors.email}),type:"email",name:"email",autoComplete:"off",disabled:t.isSubmitting||a}),t.touched.email&&t.errors.email&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("span",{role:"alert",children:t.errors.email})})]}),e.jsxs("div",{className:"mb-7",children:[e.jsx("label",{htmlFor:"role",className:"required fw-bold fs-6 mb-5",children:"Role"}),e.jsx("div",{className:"d-flex fv-row",children:e.jsxs("div",{className:"form-check form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input me-3",...t.getFieldProps("role"),name:"role",type:"radio",value:"Administrator",id:"kt_modal_update_role_option_0",checked:t.values.role==="Administrator",disabled:t.isSubmitting||a}),e.jsxs("label",{className:"form-check-label",htmlFor:"kt_modal_update_role_option_0",children:[e.jsx("div",{className:"fw-bolder text-gray-800",children:"Administrator"}),e.jsx("div",{className:"text-gray-600",children:"Best for business owners and company administrators"})]})]})}),e.jsx("div",{className:"separator separator-dashed my-5"}),e.jsx("div",{className:"d-flex fv-row",children:e.jsxs("div",{className:"form-check form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input me-3",...t.getFieldProps("role"),name:"role",type:"radio",value:"Developer",id:"kt_modal_update_role_option_1",checked:t.values.role==="Developer",disabled:t.isSubmitting||a}),e.jsxs("label",{className:"form-check-label",htmlFor:"kt_modal_update_role_option_1",children:[e.jsx("div",{className:"fw-bolder text-gray-800",children:"Developer"}),e.jsx("div",{className:"text-gray-600",children:"Best for developers or people primarily using the API"})]})]})}),e.jsx("div",{className:"separator separator-dashed my-5"}),e.jsx("div",{className:"d-flex fv-row",children:e.jsxs("div",{className:"form-check form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input me-3",...t.getFieldProps("role"),name:"role",type:"radio",value:"Analyst",id:"kt_modal_update_role_option_2",checked:t.values.role==="Analyst",disabled:t.isSubmitting||a}),e.jsxs("label",{className:"form-check-label",htmlFor:"kt_modal_update_role_option_2",children:[e.jsx("div",{className:"fw-bolder text-gray-800",children:"Analyst"}),e.jsx("div",{className:"text-gray-600",children:"Best for people who need full access to analytics data, but don't need to update business settings"})]})]})}),e.jsx("div",{className:"separator separator-dashed my-5"}),e.jsx("div",{className:"d-flex fv-row",children:e.jsxs("div",{className:"form-check form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input me-3",...t.getFieldProps("role"),name:"role",type:"radio",value:"Support",id:"kt_modal_update_role_option_3",checked:t.values.role==="Support",disabled:t.isSubmitting||a}),e.jsxs("label",{className:"form-check-label",htmlFor:"kt_modal_update_role_option_3",children:[e.jsx("div",{className:"fw-bolder text-gray-800",children:"Support"}),e.jsx("div",{className:"text-gray-600",children:"Best for employees who regularly refund payments and respond to disputes"})]})]})}),e.jsx("div",{className:"separator separator-dashed my-5"}),e.jsx("div",{className:"d-flex fv-row",children:e.jsxs("div",{className:"form-check form-check-custom form-check-solid",children:[e.jsx("input",{className:"form-check-input me-3",...t.getFieldProps("role"),name:"role",type:"radio",id:"kt_modal_update_role_option_4",value:"Trial",checked:t.values.role==="Trial",disabled:t.isSubmitting||a}),e.jsxs("label",{className:"form-check-label",htmlFor:"kt_modal_update_role_option_4",children:[e.jsx("div",{className:"fw-bolder text-gray-800",children:"Trial"}),e.jsx("div",{className:"text-gray-600",children:"Best for people who need to preview content data, but don't need to make any updates"})]})]})})]})]}),e.jsxs("div",{className:"text-center pt-15",children:[e.jsx("button",{type:"reset",onClick:()=>i(),className:"btn btn-light me-3","data-kt-users-modal-action":"cancel",disabled:t.isSubmitting||a,children:"Discard"}),e.jsxs("button",{type:"submit",className:"btn btn-primary","data-kt-users-modal-action":"submit",disabled:a||t.isSubmitting||!t.isValid||!t.touched,children:[e.jsx("span",{className:"indicator-label",children:"Submit"}),(t.isSubmitting||a)&&e.jsxs("span",{className:"indicator-progress",children:["Please wait..."," ",e.jsx("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})]})]}),(t.isSubmitting||a)&&e.jsx(G,{})]})},qe=()=>{const{itemIdForUpdate:s,setItemIdForUpdate:a}=h(),l=D(s),{isLoading:o,data:r,error:i}=M(`${_.USERS_LIST}-user-${s}`,()=>xe(s),{cacheTime:0,enabled:l,onError:d=>{a(void 0),console.error(d)}});return s?!o&&!i&&r?e.jsx(L,{isUserLoading:o,user:r}):null:e.jsx(L,{isUserLoading:o,user:{id:void 0}})},Be=()=>(c.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"modal fade show d-block",id:"kt_modal_add_user",role:"dialog",tabIndex:-1,"aria-modal":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered mw-650px",children:e.jsxs("div",{className:"modal-content",children:[e.jsx(He,{}),e.jsx("div",{className:"modal-body scroll-y mx-5 mx-xl-15 my-7",children:e.jsx(qe,{})})]})})}),e.jsx("div",{className:"modal-backdrop fade show"})]})),Oe=()=>{const{itemIdForUpdate:s}=h();return e.jsxs(e.Fragment,{children:[e.jsxs(ne,{children:[e.jsx(Ce,{}),e.jsx(De,{})]}),s!==void 0&&e.jsx(Be,{})]})},We=()=>e.jsx(ge,{children:e.jsx(ve,{children:e.jsxs(ye,{children:[e.jsx(le,{}),e.jsx(oe,{children:e.jsx(Oe,{})})]})})}),Ge=[{title:"User Management",path:"/apps/user-management/users",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],ze=()=>e.jsxs(ie,{children:[e.jsx(S,{element:e.jsx(ce,{}),children:e.jsx(S,{path:"users",element:e.jsxs(e.Fragment,{children:[e.jsx(de,{breadcrumbs:Ge,children:"Users list"}),e.jsx(We,{})]})})}),e.jsx(S,{index:!0,element:e.jsx(me,{to:"/apps/user-management/users"})})]});export{ze as default};
